{% extends "base.html" %}
{% block title %}Race Schedule{% endblock %}

{% block content %}
  <style>
    /* Custom styles for the table */
    table.table {
      border-collapse: collapse;
      width: 100%;
    }

    table.table thead {
      background-color: #f8f9fa;
    }

    table.table th,
    table.table td {
      padding: 8px;
      text-align: center;
      border-bottom: 1px solid #dee2e6;
    }

    table.table th.heat {
      width: 100px; /* Fixed width for the Heat column */
    }

    table.table th, table.table td {
      width: 120px; /* Fixed width for other columns */
    }

    table.table th {
      font-weight: bold;
    }

    table.table td {
      vertical-align: top;
    }

    table.table td.rider-1,
    table.table td.rider-2,
    table.table td.rider-3 {
      text-align: center;
    }

    .selected-1 {
      background-color: #A8E6CF;  /* Modern light green */
      border: 2px solid white;
      border-radius: 8px;
      position: relative;  /* To position the number correctly */
    }
    
    .selected-2 {
      background-color: #AEDFF7;  /* Light blue */
      border: 2px solid white;
      border-radius: 8px;
      position: relative;  /* To position the number correctly */
    }

    .selected-3 {
      background-color: #FFD3B6;  /* Modern peach */
      border: 2px solid white;
      border-radius: 8px;
      position: relative;  
    }
      
    .selected-4 {
      background-color: #FFAAA5;  /* Modern light coral */
      border: 2px solid white;
      border-radius: 8px;
      position: relative;  
    }
      
    .selected-5 {
      background-color: #FF8B94;  /* Modern light rose */
      border: 2px solid white;
      border-radius: 8px;
      position: relative;  
    }
    
    /* Style for the numbers inside the selected cells */
    .selected-num {
      position: absolute;
      top: 50%;
      right: 10px;   /* Adjusted this from left to right and gave it a 10px offset from the right edge */
      transform: translateY(-50%);   /* Only need to adjust the Y-axis since we're not centering horizontally anymore */
      font-weight: bold;
      font-size: 18px;
    }

  </style>
  <h1>Round 1 Draw</h1>
  {% for category, pairings_category in round1_pairings.items() %}
    <h2>Sprint {{ category }}</h2>
    <div class="table-container">
      <table class="table" id="round1{{ category }}Table">
        <thead>
          <tr>
            <th class="heat">Heat</th>
            <th class="rider-1">Rider 1</th>
            <th class="rider-2">Rider 2</th>
            <th class="rider-3">Rider 3</th>
          </tr>
        </thead>
        <tbody>
          {% for pairing in pairings_category %}
            <tr>
              <td class="heat">Heat {{ loop.index }}</td>
              {% for i in range(3) %}
                {% if pairing.pairing[i] != "BYE" %}
                  <td class="rider-{{ i+1 }}" onclick="selectRider(this, 'round1{{ category }}Table')">
                    {{ pairing.pairing[i] }}
                  </td>
                {% else %}
                  <td class="rider-{{ i+1 }}"></td>
                {% endif %}
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% endfor %}
  
  <<h1>Rep 1 Draw</h1>
  {% for category, pairings_category in rep_pairings.items() %}
    <h2>Sprint {{ category }}</h2>
    <div class="table-container">
      <table class="table" id="rep1{{ category }}Table">
        <thead>
          <tr>
            <th class="heat">Heat</th>
            <th class="rider-1">Rider 1</th>
            <th class="rider-2">Rider 2</th>
            <th class="rider-3">Rider 3</th>
            <th class="rider-4">Rider 4</th>
          </tr>
        </thead>
        <tbody>
          {% for heat, riders in pairings_category.items() %}
            <tr>
              <td class="heat">{{ heat }}</td>
              {% for rider in riders %}
                <td class="rider">{{ rider }}</td>
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% endfor %}
  
  
{% endblock %}
